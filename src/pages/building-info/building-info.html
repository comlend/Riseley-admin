<!--
  Generated template for the BuildingInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Building Info</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-row>
    <ion-col col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4>
      <ion-card>
        <ion-card-header>
          Current Building Amenities
          <hr>
        </ion-card-header>
        <ion-card-content>
          <ion-list no-lines>
            <button ion-item *ngFor="let info of buildingInfo" (click)="viewDetails(info)">
              {{info.name}}
            </button>
            <div *ngIf="buildingInfo.length == 0">
              No Info available, add some.
            </div>
          </ion-list>

        </ion-card-content>
        <button ion-button full style="margin:0" (click)="addnew()">Add New</button>
      </ion-card>
    </ion-col>
    <ion-col col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8>
      <ion-card *ngIf="addNew">
        <ion-card-header>
          Add Building Amenity Information
          <hr>
        </ion-card-header>
        <ion-card-content>
          <ion-list no-lines>
            <ion-item no-padding>
              <!-- <ion-label floating>Name</ion-label> -->
              <ion-label stacked>Name</ion-label>
              <ion-input type="text" [(ngModel)]="name" placeholder="Air Conditioner, for example."></ion-input>
            </ion-item>
            <ion-item no-padding>
              <ion-label stacked>Description</ion-label>
              <ion-textarea type="text" [(ngModel)]="desciption" placeholder="Details about the operatability of the amentiy."></ion-textarea>
            </ion-item>
            <h4>--- OR ---</h4>
            <ion-item no-padding>
              <button ion-button small outline (click)="uploadPdf()">Uplaod PDF here</button>
              <form>
                <input hidden id="avatar" name="file" type="file" (change)="upload()">
              </form>
            </ion-item>
            <div *ngFor="let pdf of uploadedPdfs; let i = index" style="display:inline-block;padding: 5px;position:relative;">
              <img *ngIf="hasPdf" src='assets/imgs/pdf.png' />
              <ion-icon name="ios-close-circle" color="danger" style="position: absolute; top: 0; right: 0" (tap)="deletePdf(i)"></ion-icon>
            </div>
          </ion-list>
          <div padding></div>
          <button ion-button round color="danger" (click)="submitInfo()">Add Info</button>

        </ion-card-content>
      </ion-card>
      <ion-card *ngIf="infoDetails">
        <ion-card-header>
          <ion-item no-padding>
            <b>{{details.name}}</b>
            <button ion-button item-end clear small color="danger" icon-start (tap)="deleteBuildingInfo(details.id)">
              <ion-icon name='trash'></ion-icon>
              Delete
            </button>
          </ion-item>
        </ion-card-header>
        <ion-card-content>
          <p *ngIf="details.text">{{details.text}}</p>
          <div *ngIf="details.pdf">
            <ion-item no-padding *ngFor="let pdf of details.pdf; let i = index">
              <a [href]='pdf.pdf' target='_blank'>View PDF {{i+1}}</a>
            </ion-item>
          </div>
        </ion-card-content>

      </ion-card>

    </ion-col>
  </ion-row>

</ion-content>